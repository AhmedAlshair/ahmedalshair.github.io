/* --- Theme Variables --- */
:root {
  /* --- Core Brand Colors --- */
  --brand-onyx: #1a1b1e;
  --brand-navy: hsl(218, 40%, 20%);
  --brand-accent: #015298;
  --brand-silver: #e2e8f0;

  /* --- Semantic Colors (Light Mode) --- */
  --bg-primary: var(--brand-silver);
  --bg-secondary: color-mix(in srgb, var(--bg-primary), var(--brand-navy) 4%);
  --text-primary: var(--brand-onyx);
  --text-muted: color-mix(in srgb, var(--brand-onyx), transparent 40%);
  --accent: var(--brand-accent);
  --border: rgb(from var(--brand-navy) r g b / 0.1);

  /* --- Surface Elevations --- */
  --surface-0: var(--bg-primary);
  --surface-1: var(--bg-secondary);
  --surface-2: color-mix(in srgb, var(--bg-secondary), var(--brand-onyx) 6%);
  --surface-inverse: color-mix(in srgb, var(--bg-primary), hsl(0 0 100) 12%);

  /* --- Interactive States --- */
  --action-hover: hsl(from var(--accent) h s calc(l - 12%));
  --action-active: hsl(from var(--accent) h s calc(l - 20%));
  --action-focus: rgb(from var(--accent) r g b / 0.25);
  --action-selected: var(--accent);
  --surface-hover: rgb(from var(--brand-navy) r g b / 0.04);

  /* --- Shadows --- */
  --shadow-subtle: 0 1px 3px rgb(from var(--brand-onyx) r g b / 0.1);
  --shadow-near: 0 4px 12px rgb(from var(--brand-onyx) r g b / 0.12);
  --shadow-far: 0 12px 32px rgb(from var(--brand-onyx) r g b / 0.15);

  /* --- Spacing Scale (4pt Grid) --- */
  --space-xs: 0.25rem; /* 4px */
  --space-sm: 0.5rem; /* 8px */
  --space-md: 1rem; /* 16px */
  --space-lg: 1.5rem; /* 24px */
  --space-xl: 3rem; /* 48px */
  --space-xxl: 4rem; /* 64px */

  /* --- Typography --- */
  --font-main: "Outfit", sans-serif;
  --font-code: "Google Sans Code", monospace;
  --lh-base: 1.5;
  --lh-tight: 1.2;

  /* Fluid Scale */
  --text-h1: clamp(2.25rem, 6vw, 4.5rem);
  --text-h2: clamp(1.75rem, 4vw, 2.75rem);
  --text-h3: clamp(1.25rem, 2.5vw, 1.75rem);
  --text-h4: 1.25rem;

  --lh-heading: 1.15;
  --ls-heading: -0.02em; /* Tighter letter spacing for premium feel */

  /* --- Border Radius --- */
  --radius-sm: 4px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-full: 99999px;

  /* --- Layout Helpers --- */
  --max-width: 1200px;
  --z-sticky: 100;
  --z-modal: 1000;
}

[data-theme="dark"] {
  /* --- Semantic Colors (Dark Mode) --- */
  --bg-primary: #0f1115;
  --bg-secondary: var(--brand-onyx);
  --text-primary: var(--brand-silver);
  --text-muted: #94a3b8;
  --accent: #7dd3fc;
  --border: rgb(from var(--accent) r g b / 0.15);

  /* --- Dark Surface Elevations --- */
  --surface-0: #161b22;
  --surface-1: #1e2126;
  --surface-2: #2a2e35;
  --surface-inverse: color-mix(in srgb, var(--bg-primary), hsl(0 0 100) 16%);

  /* --- Dark Mode Actions --- */
  --action-hover: hsl(from var(--accent) h s calc(l + 15%));
  --action-active: hsl(from var(--accent) h s calc(l + 25%));
  --action-focus: rgb(from var(--accent) r g b / 0.4);
  --surface-hover: rgb(from white r g b / 0.05);

  /* --- Dark Shadows (Higher Opacity) --- */
  --shadow-1: 0 2px 4px rgba(0, 0, 0, 0.4);
  --shadow-2: 0 8px 16px rgba(0, 0, 0, 0.5);
  --shadow-3: 0 16px 48px rgba(0, 0, 0, 0.6);
}

/* --- Style Reset --- */

*,
*::before,
*::after {
  box-sizing: border-box;
}

* {
  margin: 0;
}

/* Enable keyword animations */
@media (prefers-reduced-motion: no-preference) {
  html {
    interpolate-size: allow-keywords;
  }
}

body {
  -webkit-font-smoothing: antialiased;
  -moz-font-smoothing: antialiased;
  -o-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  display: block;
}

/* Media defaults */
img,
picture,
video,
canvas,
svg {
  display: block;
  max-width: fit-content;
}

/* Inherit fonts for form controls */
input,
button,
textarea,
select {
  font: inherit;
}

/* Avoid text overflows */
p,
h1,
h2,
h3,
h4,
h5,
h6 {
  overflow-wrap: break-word;
}

p {
  text-wrap: pretty;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  text-wrap: balance;
}

/* Create a root stacking context */
#root,
#__next {
  isolation: isolate;
}

/* --- Global Styles --- */

html {
  font-family: var(--font-main);
  font-optical-sizing: auto;
}

body {
  margin: 0;
  padding: 0;
  background-color: var(--surface-0);
  color: var(--text-primary);
  line-height: 1.5;
  transition:
    background-color 0.3s ease,
    color 0.3s ease;

  .no-scroll & {
    overflow: hidden;
    height: 100vh;
  }
}

::-webkit-scrollbar {
  display: none;
  width: 0;
  background: transparent;
}

::selection,
input::selection {
  background-color: var(--accent);
  color: var(--bg-primary);
}

:focus:not(:focus-visible) {
  outline: none;
}

input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* Links */
a {
  text-decoration: none;
  color: var(--accent);
  transition: color 0.2s ease;

  &:hover {
    color: var(--action-hover);
  }
}

/* Headings */
h1,
h2,
h3,
h4,
.subtitle {
  font-family: var(--font-main);
  color: var(--text-primary);
  line-height: var(--lh-heading);
  letter-spacing: var(--ls-heading);
  text-wrap: balance;

  &:not(.subtitle) {
    font-weight: 600;
  }
}

h1 {
  font-size: var(--text-h1);

  &:not(+ .subtitle) {
    margin-bottom: var(--space-lg);
  }
}

h2 {
  font-size: var(--text-h2);
  margin-top: var(--space-xl);
  margin-bottom: var(--space-md);
}

h3 {
  font-size: var(--text-h3);
  margin-bottom: var(--space-sm);
}

h4 {
  font-size: var(--text-h4);
  margin-bottom: var(--space-sm);
}

p {
  margin-bottom: var(--space-sm);

  &:last-child {
    margin-bottom: 0;
  }
}

.subtitle {
  font-size: var(--text-h4);
  margin-bottom: var(--space-md);
}

/* Wrappers */
.wrapper-flex {
  display: flex;
  align-items: center;
  justify-content: space-between;

  &.reverse {
    flex-direction: row-reverse;
  }

  &.column {
    flex-direction: column;
  }

  &.center {
    justify-content: center;
  }

  &.gap {
    gap: var(--space-md);
  }
}
